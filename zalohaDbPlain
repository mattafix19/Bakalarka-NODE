--
-- PostgreSQL database dump
--

-- Dumped from database version 9.6.2
-- Dumped by pg_dump version 9.6.2

-- Started on 2017-03-15 07:41:39

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SET check_function_bodies = false;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 1 (class 3079 OID 12387)
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- TOC entry 2191 (class 0 OID 0)
-- Dependencies: 1
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


SET search_path = public, pg_catalog;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- TOC entry 185 (class 1259 OID 16395)
-- Name: cdn_interface; Type: TABLE; Schema: public; Owner: Martin
--

CREATE TABLE cdn_interface (
    id integer NOT NULL,
    name character varying(20),
    url character varying(100),
    url_translator character varying(100),
    url_cdn character varying(100),
    port_cdn integer,
    login character varying(20),
    pass character varying(20),
    priority integer,
    endpoint_type_id integer,
    endpoint_gateway_type_id integer,
    offer_status numeric(1,0) DEFAULT 4
);


ALTER TABLE cdn_interface OWNER TO "Martin";

--
-- TOC entry 186 (class 1259 OID 16399)
-- Name: cdninterface_id_seq; Type: SEQUENCE; Schema: public; Owner: Martin
--

CREATE SEQUENCE cdninterface_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE cdninterface_id_seq OWNER TO "Martin";

--
-- TOC entry 2192 (class 0 OID 0)
-- Dependencies: 186
-- Name: cdninterface_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: Martin
--

ALTER SEQUENCE cdninterface_id_seq OWNED BY cdn_interface.id;


--
-- TOC entry 187 (class 1259 OID 16401)
-- Name: endpoint_gateway_type; Type: TABLE; Schema: public; Owner: Martin
--

CREATE TABLE endpoint_gateway_type (
    id_gateway integer NOT NULL,
    endpoint_gateway_type character varying(20)
);


ALTER TABLE endpoint_gateway_type OWNER TO "Martin";

--
-- TOC entry 188 (class 1259 OID 16404)
-- Name: endpoint_gateway_type_id_seq; Type: SEQUENCE; Schema: public; Owner: Martin
--

CREATE SEQUENCE endpoint_gateway_type_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE endpoint_gateway_type_id_seq OWNER TO "Martin";

--
-- TOC entry 2193 (class 0 OID 0)
-- Dependencies: 188
-- Name: endpoint_gateway_type_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: Martin
--

ALTER SEQUENCE endpoint_gateway_type_id_seq OWNED BY endpoint_gateway_type.id_gateway;


--
-- TOC entry 189 (class 1259 OID 16406)
-- Name: endpoint_type; Type: TABLE; Schema: public; Owner: Martin
--

CREATE TABLE endpoint_type (
    id_type integer NOT NULL,
    endpoint_type character varying(6)
);


ALTER TABLE endpoint_type OWNER TO "Martin";

--
-- TOC entry 190 (class 1259 OID 16409)
-- Name: endpoint_type_id_seq; Type: SEQUENCE; Schema: public; Owner: Martin
--

CREATE SEQUENCE endpoint_type_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE endpoint_type_id_seq OWNER TO "Martin";

--
-- TOC entry 2194 (class 0 OID 0)
-- Dependencies: 190
-- Name: endpoint_type_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: Martin
--

ALTER SEQUENCE endpoint_type_id_seq OWNED BY endpoint_type.id_type;


--
-- TOC entry 191 (class 1259 OID 16411)
-- Name: footprint; Type: TABLE; Schema: public; Owner: Martin
--

CREATE TABLE footprint (
    id integer NOT NULL,
    endpoint_id integer,
    subnet_num integer,
    mask_num integer,
    subnet_ip character varying(15),
    prefix integer
);


ALTER TABLE footprint OWNER TO "Martin";

--
-- TOC entry 192 (class 1259 OID 16414)
-- Name: footprint_id_seq; Type: SEQUENCE; Schema: public; Owner: Martin
--

CREATE SEQUENCE footprint_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE footprint_id_seq OWNER TO "Martin";

--
-- TOC entry 2195 (class 0 OID 0)
-- Dependencies: 192
-- Name: footprint_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: Martin
--

ALTER SEQUENCE footprint_id_seq OWNED BY footprint.id;


--
-- TOC entry 193 (class 1259 OID 16416)
-- Name: offer_status; Type: TABLE; Schema: public; Owner: Martin
--

CREATE TABLE offer_status (
    status character varying(100) NOT NULL,
    id_offer_status numeric(1,0) NOT NULL
);


ALTER TABLE offer_status OWNER TO "Martin";

--
-- TOC entry 194 (class 1259 OID 16419)
-- Name: offer_status_id_type_seq; Type: SEQUENCE; Schema: public; Owner: Martin
--

CREATE SEQUENCE offer_status_id_type_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE offer_status_id_type_seq OWNER TO "Martin";

--
-- TOC entry 2196 (class 0 OID 0)
-- Dependencies: 194
-- Name: offer_status_id_type_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: Martin
--

ALTER SEQUENCE offer_status_id_type_seq OWNED BY offer_status.id_offer_status;


--
-- TOC entry 195 (class 1259 OID 16421)
-- Name: users; Type: TABLE; Schema: public; Owner: Martin
--

CREATE TABLE users (
    id integer NOT NULL,
    login character varying(100) NOT NULL,
    pass character varying(100) NOT NULL,
    admin boolean NOT NULL
);


ALTER TABLE users OWNER TO "Martin";

--
-- TOC entry 196 (class 1259 OID 16424)
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: Martin
--

CREATE SEQUENCE users_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE users_id_seq OWNER TO "Martin";

--
-- TOC entry 2197 (class 0 OID 0)
-- Dependencies: 196
-- Name: users_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: Martin
--

ALTER SEQUENCE users_id_seq OWNED BY users.id;


--
-- TOC entry 2032 (class 2604 OID 16426)
-- Name: cdn_interface id; Type: DEFAULT; Schema: public; Owner: Martin
--

ALTER TABLE ONLY cdn_interface ALTER COLUMN id SET DEFAULT nextval('cdninterface_id_seq'::regclass);


--
-- TOC entry 2033 (class 2604 OID 16427)
-- Name: endpoint_gateway_type id_gateway; Type: DEFAULT; Schema: public; Owner: Martin
--

ALTER TABLE ONLY endpoint_gateway_type ALTER COLUMN id_gateway SET DEFAULT nextval('endpoint_gateway_type_id_seq'::regclass);


--
-- TOC entry 2034 (class 2604 OID 16428)
-- Name: endpoint_type id_type; Type: DEFAULT; Schema: public; Owner: Martin
--

ALTER TABLE ONLY endpoint_type ALTER COLUMN id_type SET DEFAULT nextval('endpoint_type_id_seq'::regclass);


--
-- TOC entry 2035 (class 2604 OID 16429)
-- Name: footprint id; Type: DEFAULT; Schema: public; Owner: Martin
--

ALTER TABLE ONLY footprint ALTER COLUMN id SET DEFAULT nextval('footprint_id_seq'::regclass);


--
-- TOC entry 2036 (class 2604 OID 16430)
-- Name: offer_status id_offer_status; Type: DEFAULT; Schema: public; Owner: Martin
--

ALTER TABLE ONLY offer_status ALTER COLUMN id_offer_status SET DEFAULT nextval('offer_status_id_type_seq'::regclass);


--
-- TOC entry 2037 (class 2604 OID 16431)
-- Name: users id; Type: DEFAULT; Schema: public; Owner: Martin
--

ALTER TABLE ONLY users ALTER COLUMN id SET DEFAULT nextval('users_id_seq'::regclass);


--
-- TOC entry 2173 (class 0 OID 16395)
-- Dependencies: 185
-- Data for Name: cdn_interface; Type: TABLE DATA; Schema: public; Owner: Martin
--

INSERT INTO cdn_interface (id, name, url, url_translator, url_cdn, port_cdn, login, pass, priority, endpoint_type_id, endpoint_gateway_type_id, offer_status) VALUES (1, 'CISCO', 'localhost:8080', '.', 'https://cdsm.cdn.ab.sk', 8443, 'admin', 'CdnLab_123', 1, 1, 2, 4);
INSERT INTO cdn_interface (id, name, url, url_translator, url_cdn, port_cdn, login, pass, priority, endpoint_type_id, endpoint_gateway_type_id, offer_status) VALUES (7, 'LOCAL3', 'localhost:8082', '.', 'https://cdsm.cdn.ab.sk', 8443, 'admin', 'CdnLab_123', 1, 2, 2, 1);
INSERT INTO cdn_interface (id, name, url, url_translator, url_cdn, port_cdn, login, pass, priority, endpoint_type_id, endpoint_gateway_type_id, offer_status) VALUES (6, 'LOCAL2', 'localhost:8081', '.', 'https://cdsm.cdn.ab.sk', 8443, 'admin', 'Cdn_lab_123', 1, 2, 2, 1);


--
-- TOC entry 2198 (class 0 OID 0)
-- Dependencies: 186
-- Name: cdninterface_id_seq; Type: SEQUENCE SET; Schema: public; Owner: Martin
--

SELECT pg_catalog.setval('cdninterface_id_seq', 7, true);


--
-- TOC entry 2175 (class 0 OID 16401)
-- Dependencies: 187
-- Data for Name: endpoint_gateway_type; Type: TABLE DATA; Schema: public; Owner: Martin
--

INSERT INTO endpoint_gateway_type (id_gateway, endpoint_gateway_type) VALUES (2, 'CISCO CDS');
INSERT INTO endpoint_gateway_type (id_gateway, endpoint_gateway_type) VALUES (1, 'DUMMY');


--
-- TOC entry 2199 (class 0 OID 0)
-- Dependencies: 188
-- Name: endpoint_gateway_type_id_seq; Type: SEQUENCE SET; Schema: public; Owner: Martin
--

SELECT pg_catalog.setval('endpoint_gateway_type_id_seq', 2, true);


--
-- TOC entry 2177 (class 0 OID 16406)
-- Dependencies: 189
-- Data for Name: endpoint_type; Type: TABLE DATA; Schema: public; Owner: Martin
--

INSERT INTO endpoint_type (id_type, endpoint_type) VALUES (1, 'local');
INSERT INTO endpoint_type (id_type, endpoint_type) VALUES (2, 'remote');


--
-- TOC entry 2200 (class 0 OID 0)
-- Dependencies: 190
-- Name: endpoint_type_id_seq; Type: SEQUENCE SET; Schema: public; Owner: Martin
--

SELECT pg_catalog.setval('endpoint_type_id_seq', 2, true);


--
-- TOC entry 2179 (class 0 OID 16411)
-- Dependencies: 191
-- Data for Name: footprint; Type: TABLE DATA; Schema: public; Owner: Martin
--

INSERT INTO footprint (id, endpoint_id, subnet_num, mask_num, subnet_ip, prefix) VALUES (12, 1, 24, 25, '192.168.3.0', 25);
INSERT INTO footprint (id, endpoint_id, subnet_num, mask_num, subnet_ip, prefix) VALUES (14, 1, 25, 25, '192.168.7.5', 20);
INSERT INTO footprint (id, endpoint_id, subnet_num, mask_num, subnet_ip, prefix) VALUES (141, 6, 25, 24, '192.168.1.2', 24);
INSERT INTO footprint (id, endpoint_id, subnet_num, mask_num, subnet_ip, prefix) VALUES (142, 6, 25, 24, '192.168.1.5', 25);
INSERT INTO footprint (id, endpoint_id, subnet_num, mask_num, subnet_ip, prefix) VALUES (119, 1, 12, 25, '192.168.9.6', 25);
INSERT INTO footprint (id, endpoint_id, subnet_num, mask_num, subnet_ip, prefix) VALUES (120, 1, 12, 25, '192.168.9.88', 25);


--
-- TOC entry 2201 (class 0 OID 0)
-- Dependencies: 192
-- Name: footprint_id_seq; Type: SEQUENCE SET; Schema: public; Owner: Martin
--

SELECT pg_catalog.setval('footprint_id_seq', 142, true);


--
-- TOC entry 2181 (class 0 OID 16416)
-- Dependencies: 193
-- Data for Name: offer_status; Type: TABLE DATA; Schema: public; Owner: Martin
--

INSERT INTO offer_status (status, id_offer_status) VALUES ('New', 5);
INSERT INTO offer_status (status, id_offer_status) VALUES ('Offered', 2);
INSERT INTO offer_status (status, id_offer_status) VALUES ('Declined', 3);
INSERT INTO offer_status (status, id_offer_status) VALUES ('NotOffered', 4);
INSERT INTO offer_status (status, id_offer_status) VALUES ('AcceptedDownstream', 6);
INSERT INTO offer_status (status, id_offer_status) VALUES ('AcceptedUpstream', 1);


--
-- TOC entry 2202 (class 0 OID 0)
-- Dependencies: 194
-- Name: offer_status_id_type_seq; Type: SEQUENCE SET; Schema: public; Owner: Martin
--

SELECT pg_catalog.setval('offer_status_id_type_seq', 6, true);


--
-- TOC entry 2183 (class 0 OID 16421)
-- Dependencies: 195
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: Martin
--

INSERT INTO users (id, login, pass, admin) VALUES (2, 'admin', 'admin', true);
INSERT INTO users (id, login, pass, admin) VALUES (3, 'user', 'user', false);


--
-- TOC entry 2203 (class 0 OID 0)
-- Dependencies: 196
-- Name: users_id_seq; Type: SEQUENCE SET; Schema: public; Owner: Martin
--

SELECT pg_catalog.setval('users_id_seq', 3, true);


--
-- TOC entry 2039 (class 2606 OID 16433)
-- Name: cdn_interface cdninterface_pkey; Type: CONSTRAINT; Schema: public; Owner: Martin
--

ALTER TABLE ONLY cdn_interface
    ADD CONSTRAINT cdninterface_pkey PRIMARY KEY (id);


--
-- TOC entry 2042 (class 2606 OID 16435)
-- Name: endpoint_gateway_type endpoint_gateway_type_pkey; Type: CONSTRAINT; Schema: public; Owner: Martin
--

ALTER TABLE ONLY endpoint_gateway_type
    ADD CONSTRAINT endpoint_gateway_type_pkey PRIMARY KEY (id_gateway);


--
-- TOC entry 2044 (class 2606 OID 16437)
-- Name: endpoint_type endpoint_type_pkey; Type: CONSTRAINT; Schema: public; Owner: Martin
--

ALTER TABLE ONLY endpoint_type
    ADD CONSTRAINT endpoint_type_pkey PRIMARY KEY (id_type);


--
-- TOC entry 2047 (class 2606 OID 16439)
-- Name: footprint footprint_pkey; Type: CONSTRAINT; Schema: public; Owner: Martin
--

ALTER TABLE ONLY footprint
    ADD CONSTRAINT footprint_pkey PRIMARY KEY (id);


--
-- TOC entry 2049 (class 2606 OID 16443)
-- Name: offer_status offer_status_pkey; Type: CONSTRAINT; Schema: public; Owner: Martin
--

ALTER TABLE ONLY offer_status
    ADD CONSTRAINT offer_status_pkey PRIMARY KEY (id_offer_status);


--
-- TOC entry 2051 (class 2606 OID 16445)
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: Martin
--

ALTER TABLE ONLY users
    ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- TOC entry 2040 (class 1259 OID 16446)
-- Name: fki_cdn_interface_offer_status_id_fkey; Type: INDEX; Schema: public; Owner: Martin
--

CREATE INDEX fki_cdn_interface_offer_status_id_fkey ON cdn_interface USING btree (offer_status);


--
-- TOC entry 2045 (class 1259 OID 16627)
-- Name: fki_fk_cdn_interface_id; Type: INDEX; Schema: public; Owner: Martin
--

CREATE INDEX fki_fk_cdn_interface_id ON footprint USING btree (endpoint_id);


--
-- TOC entry 2052 (class 2606 OID 16447)
-- Name: cdn_interface cdn_interface_endpoint_gateway_type_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: Martin
--

ALTER TABLE ONLY cdn_interface
    ADD CONSTRAINT cdn_interface_endpoint_gateway_type_id_fkey FOREIGN KEY (endpoint_gateway_type_id) REFERENCES endpoint_gateway_type(id_gateway);


--
-- TOC entry 2053 (class 2606 OID 16452)
-- Name: cdn_interface cdn_interface_endpoint_type_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: Martin
--

ALTER TABLE ONLY cdn_interface
    ADD CONSTRAINT cdn_interface_endpoint_type_id_fkey FOREIGN KEY (endpoint_type_id) REFERENCES endpoint_type(id_type);


--
-- TOC entry 2054 (class 2606 OID 16457)
-- Name: cdn_interface cdn_interface_offer_status_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: Martin
--

ALTER TABLE ONLY cdn_interface
    ADD CONSTRAINT cdn_interface_offer_status_id_fkey FOREIGN KEY (offer_status) REFERENCES offer_status(id_offer_status);


--
-- TOC entry 2055 (class 2606 OID 16622)
-- Name: footprint fk_cdn_interface_id; Type: FK CONSTRAINT; Schema: public; Owner: Martin
--

ALTER TABLE ONLY footprint
    ADD CONSTRAINT fk_cdn_interface_id FOREIGN KEY (endpoint_id) REFERENCES cdn_interface(id);


-- Completed on 2017-03-15 07:41:39

--
-- PostgreSQL database dump complete
--

